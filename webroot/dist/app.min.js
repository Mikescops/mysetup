class siiimpleToast{constructor(e){if(e||(e={vertical:"bottom",horizontal:"right"}),!e.vertical)throw new Error('Please set parameter "vertical" ex) bottom, top ');if(!e.horizontal)throw new Error('Please set parameter "horizontal" ex) left, center, right ');this._settings=e,this.defaultClass="siiimpleToast",this.defaultStyle={position:"fixed",padding:"1rem 1.2rem",minWidth:"17rem",maxWidth:"100%",marginLeft:"1rem",zIndex:"9999",borderRadius:"2px",color:"white",fontWeight:300,pointerEvents:"none",opacity:0,boxShadow:"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)",transform:"scale(0.5)",transition:"all 0.4s ease-out"},this.verticalStyle=this.setVerticalStyle()[this._settings.vertical],this.horizontalStyle=this.setHorizontalStyle()[this._settings.horizontal]}setVerticalStyle(){return{top:{top:"-100px"},bottom:{bottom:"-100px"}}}setHorizontalStyle(){return{left:{left:"1rem"},center:{left:"50%",transform:"translateX(-50%) scale(0.5)"},right:{right:"1rem"}}}setMessageStyle(){return{default:"#323232",success:"#005f84",alert:"#db2828"}}init(e,t){const i=document.querySelector("body"),a=document.createElement("div");a.className=this.defaultClass,a.innerHTML=t,Object.assign(a.style,this.defaultStyle,this.verticalStyle,this.horizontalStyle),a.style.backgroundColor=this.setMessageStyle()[e],i.insertBefore(a,i.firstChild);let s=0;setTimeout(()=>{this.addAction(a)},s+=100),setTimeout(()=>{this.removeAction(a)},s+=5e3),setTimeout(()=>{this.removeDOM(a)},s+=500)}addAction(e){const t=document.getElementsByClassName(this.defaultClass);let i=15;"center"==this._settings.horizontal?e.style.transform="translateX(-50%) scale(1)":e.style.transform="scale(1)",e.style.opacity=1;for(let e=0;e<t.length;e+=1){const a=t[e].offsetHeight,s=15;"bottom"==this._settings.vertical?t[e].style.bottom=`${i}px`:t[e].style.top=`${i}px`,i+=a+s}}removeAction(e){const t=e.offsetWidth,i=e.getBoundingClientRect();"right"==this._settings.horizontal?e.style.right=`-${t}px`:e.style.left=`${i.left+t}px`,e.style.opacity=0}removeDOM(e){e.parentNode.removeChild(e)}message(e){this.init("default",e)}success(e){this.init("success",e)}alert(e){this.init("alert",e)}}function inIframe(){try{return window.self!==window.top}catch(e){return!0}}function featuredPreviewChange(){$(".gallery-holder.homide").removeClass("homide")}var timer;function searchItem(e,t){clearTimeout(timer),timer=setTimeout(function(){e.length<2||$.ajax({url:webRootJs+"thirdParties/searchProducts",type:"get",data:{q:e},success:function(e){$(".search_results."+t).html("");var i=e.products;null==i[0]&&$(".search_results."+t).append("No products found..."),$.each(i,function(e,i){let a=$('<li class="text-card"></li>'),s=i.src,o=encodeURIComponent(s),n=i.title,r=decodeURIComponent(n),l=i.href,c=encodeURIComponent(l);a.html(`<div class="wrapper"> <div class="card-container"> <div class="top" style="background: url(${s}) no-repeat center center; background-size: contain"></div> <a onclick="addToBasket(\`${n}\`, '${c}', '${o}', '${t}')" class="bottom"><i class="fas fa-plus"></i></a> </div> <div class="inside"> <div class="icon"><i class="fas fa-info-circle"></i></div> <div class="contents"> ${r} </div> </div> </div>`),$(".search_results."+t).append(a)})},error:function(e){$(".search_results."+t).html("No products found...")}})},400)}function addToBasket(e,t,i,a){$(".hiddenInput."+a).val($(".hiddenInput."+a).val()+e+";"+t+";"+i+","),$(".search_results."+a).html(""),$(".liveInput."+a).val(""),decodedTitle=decodeURIComponent(e),decodedSrc=decodeURIComponent(i);let s=$('<li class="text-card"></li>');s.html(` <div class="wrapper"> <div class="card-container"> <div class="top" style="background: url(${decodedSrc}) no-repeat center center; background-size: contain"></div> <a onclick="deleteFromBasket(\`${e}\`,this,'${a}')" class="bottom"><i class="far fa-trash-alt"></i></a> </div> <div class="inside"> <div class="icon"><i class="fas fa-info-circle"></i></div> <div class="contents"> ${decodedTitle} </div> </div> </div>`),$(".basket_items."+a).append(s)}function deleteFromBasket(e,t,i){var a=$(".hiddenInput."+i).val().split(",");new_arr=$.grep(a,function(t,i){return t.split(";")[0]!=e}),$(".hiddenInput."+i).val(new_arr),t.closest("li").remove()}function likeSetup(e){function t(e){}$(".like_button").hasClass("active")?$.ajax({url:webRootJs+"likes/dislike",type:"get",data:{setup_id:e},success:function(){$(".like_button").removeClass("active"),printLikes(e)},error:t}):$.ajax({url:webRootJs+"likes/like",type:"get",data:{setup_id:e},success:function(){$(".like_button").addClass("active"),printLikes(e)},error:t})}function printLikes(e){$.ajax({url:webRootJs+"likes/getlikes",data:{setup_id:e},dataType:"html",type:"get",success:function(e){$(".pointing_label").html(e)},error:function(e,t,i){}})}function doesLike(e){$.ajax({url:webRootJs+"likes/doesLike",data:{setup_id:e},dataType:"html",type:"get",success:function(e){"true"==e&&$(".like_button").addClass("active")}})}function infiniteScroll(e){var t=e;$(window).data("ajaxready",!0),$(window).scroll(function(){0!=$(window).data("ajaxready")&&$(window).scrollTop()+$(window).height()+500>$(document).height()&&($(window).data("ajaxready",!1),$.ajax({url:webRootJs+"api/getSetups",data:{p:t,n:e,o:"DESC"},dataType:"json",type:"get",success:function(e){if(e[0]){var t=document.getElementById("template-list-item").innerHTML,i="",a=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})};$.each(e,function(e,s){let o=a(s.title),n=webRootJs+`setups/${s.id}-${convertToSlug(a(s.title))}`,r=webRootJs;s.resources[0]?r+=s.resources[0].src:r+="img/not_found.jpg";let l=s.like_count,c=a(s.user.name),d=webRootJs+`uploads/files/pics/profile_picture_${s.user_id}.png?`+("0"+new Date(s.user.modificationDate).getMinutes()).slice(-2)+("0"+new Date(s.user.modificationDate).getSeconds()).slice(-2),u=webRootJs+"users/"+s.user_id,h=[0,0,0];s.main_colors&&(h=$.parseJSON(s.main_colors)[0]);let p=h[0],f=h[1],m=h[2];i+=t.replace(/{{ title }}/g,o).replace(/{{ url }}/g,n).replace(/{{ img_src }}/g,r).replace(/{{ likes }}/g,l).replace(/{{ user_name }}/g,c).replace(/{{ user_src }}/g,d).replace(/{{ user_url }}/g,u).replace(/{{ rgb_1 }}/g,p).replace(/{{ rgb_2 }}/g,f).replace(/{{ rgb_3 }}/g,m)}),$(".fullitem_holder").append(i),$(window).data("ajaxready",!0)}else $(".no_more_setups").html("No more setups to display...")}}),t+=e)})}window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#000"},button:{background:"#328fea"}},theme:"classic",position:"bottom-left",content:{href:webRootJs+"pages/legals"}})}),$(window).scroll(function(){$(window).scrollTop()<50?$(".heavy-nav").stop().removeClass("nav-color").addClass("nav-transparent"):$(".heavy-nav").stop().removeClass("nav-transparent").addClass("nav-color")}),$(function(){$(window).scrollTop()<50?$(".heavy-nav").addClass("nav-transparent"):$(".heavy-nav").addClass("nav-color")}),$(".post_slider").slick({centerMode:!1,autoplay:!1,adaptiveHeight:!0,lazyLoad:"progressive",arrows:!0,infinite:!1,slidesToShow:1,responsive:[{breakpoint:768,settings:{arrows:!1,slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,slidesToShow:1}}]}),$(function(){$(".tabs").on("click","li a",function(e){e.preventDefault();var t=$(this),i=t.attr("href");$(".active").removeClass("active"),t.addClass("active"),$(".show").removeClass("show").addClass("hide").hide(),$(i).removeClass("hide").addClass("show").hide().fadeIn(550)}),$(".form-action").on("click",".next",function(e){e.preventDefault();var t=$(this).attr("href"),i=$(t+"-tab");$(".active").removeClass("active"),i.addClass("active"),$(".show").removeClass("show").addClass("hide").hide(),$(t).removeClass("hide").addClass("show").hide().fadeIn(550)})}),$(".video-url-input").on("input",function(){var e=$(this);"www."==e.val().substring(0,4)&&e.val("http://www."+e.val().substring(4));/(http|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/.test(e.val())?e.removeClass("invalid").addClass("valid"):e.removeClass("valid").addClass("invalid")}),$(function(){$(".tabs-edit").on("click","li a",function(e){e.preventDefault();var t=$(this),i=t.attr("href");$(".active-edit").removeClass("active-edit"),t.addClass("active-edit"),$(".show-edit").removeClass("show-edit").addClass("hide-edit").hide(),$(i).removeClass("hide-edit").addClass("show-edit").hide().fadeIn(550)}),$(".form-action-edit").on("click",".next",function(e){e.preventDefault();var t=$(this).attr("href"),i=$(t+"-tab");$(".active-edit").removeClass("active-edit"),i.addClass("active-edit"),$(".show-edit").removeClass("show-edit").addClass("hide-edit").hide(),$(t).removeClass("hide-edit").addClass("show-edit").hide().fadeIn(550)})});const replaceValidationUI=e=>{e.addEventListener("invalid",e=>{e.preventDefault()},!0),e.addEventListener("submit",e=>{if(!this.checkValidity())return e.preventDefault();$("#publish-add").replaceWith("<span class='float-right button'><i class='fa fa-circle-o-notch fa-spin fa-fw'></i></span>")}),e.querySelector("input[type=submit]").addEventListener("click",()=>{const t=e.querySelectorAll(":invalid");let i,a="";for(let s=0;s<t.length;s++)a+=`<li>${(i=e.querySelector(`label[for=${t[s].id}]`)).innerHTML} | ${t[s].validationMessage}</li>`;t.length>0&&(toast.alert(a),t[1].focus())})},forms=document.querySelectorAll(".form_add_setup");for(let e=0;e<forms.length;e++)replaceValidationUI(forms[e]);const saveasdraftadd=()=>{$("#status-add").val("DRAFT"),$("#publish-add").click()},saveasdraftedit=()=>{$("#status-edit").val("DRAFT"),$("#publish-edit").click()};function fasterPreview(e){e.files&&e.files[0]&&$("#profileImage").attr("src",window.URL.createObjectURL(e.files[0]))}function logTwitch(e){var t=Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2);window.location="https://api.twitch.tv/kraken/oauth2/authorize?client_id="+twitchClientId+"&redirect_uri="+webRootJs+"twitch/&response_type=code&scope=user_read&state="+e+t}function convertToSlug(e){for(var t=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],i=$.trim(e),a=0,s=t.length;a<s;a++)i=i.replace(t[a].re,t[a].ch);return i.replace(/[^a-z0-9-]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function checknotification(){0==inIframe()&&($.ajax({url:webRootJs+"notifications/getNotifications",data:{n:"8"},dataType:"html",type:"get",success:function(e){notifs=$.parseJSON(e),$("#notif-container").html(""),notifs.notifications.length?($.each(notifs.notifications,function(e,t){$("#notif-container").append('<div onclick="markasread('+t.id+')" class="notif notifnb-'+t.id+'">'+t.content+'<div class="notif-close"><span onclick="markasread('+t.id+')">Ã—</span></div></div>')}),$("#notifications-trigger").addClass("notif-trigger"),$("#no-notif").hide(),instance.update(notificationcenter)):($("#notifications-trigger").removeClass("notif-trigger"),$("#no-notif").show(),instance.update(notificationcenter))}}),setTimeout(function(){checknotification()},3e4))}function markasread(e){$.ajax({url:webRootJs+"notifications/markAsRead",type:"get",data:{notification_id:e}}),$(".notifnb-"+e).remove(),$.trim($("#notif-container").html()).length||($("#notifications-trigger").removeClass("notif-trigger"),$("#no-notif").show(),instance.update(notificationcenter))}function commentModal(e){lity(document.getElementById(e+"-comment-script").innerHTML),$("#"+e+"-comment-field").emojioneArea({pickerPosition:"top"})}$(function(){$(".reset_pwd").click(function(){return $(this).hide(),$(".pwd_field").show("fast"),!1}),$("#social-networks").jsSocials({shareIn:"popup",showCount:!1,showLabel:!1,shares:["twitter","facebook","googleplus","pinterest","whatsapp"]}),$("#profileImage").click(function(){$("#profileUpload").click()}),$("#profileUpload").change(function(){fasterPreview(this)}),$(".edit-comment").click(function(){var e=$(this).attr("source"),t=$("#"+e+"> p").attr("content"),i=e.replace(/[^0-9]/g,"");$(".textarea-edit-comment > .emojionearea-editor").text(t),$("#edit-comment-hidden > form").attr("action",$("#edit-comment-hidden > form").attr("action")+"/"+i)})});