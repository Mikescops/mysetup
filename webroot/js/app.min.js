$('.home_slider').slick({centerMode:!0,infinite:!0,arrows:!1,autoplay:!0,autoplaySpeed:4000,centerPadding:'200px',slidesToShow:1,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:'40px',slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:'40px',slidesToShow:1}}]});$('.post_slider').slick({lazyLoad:'ondemand',arrows:!0,infinite:!1,slidesToShow:2,responsive:[{breakpoint:768,settings:{arrows:!1,slidesToShow:2}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,slidesToShow:1}}]});(function(){var SHOW_CLASS='show',HIDE_CLASS='hide',ACTIVE_CLASS='active';$('.tabs').on('click','li a',function(e){e.preventDefault();var $tab=$(this),href=$tab.attr('href');$('.active').removeClass(ACTIVE_CLASS);$tab.addClass(ACTIVE_CLASS);$('.show').removeClass(SHOW_CLASS).addClass(HIDE_CLASS).hide();$(href).removeClass(HIDE_CLASS).addClass(SHOW_CLASS).hide().fadeIn(550)});$(function(){$('.is_author').click(function(){$(this).hide();$('.setup_author').show('fast');return!1});$('.reset_pwd').click(function(){$(this).hide();$('.pwd_field').show('fast');return!1});$("#social-networks").jsSocials({shareIn:"popup",showCount:!0,showLabel:function(screenWidth){return(screenWidth>640)},shares:["twitter","facebook","googleplus","pinterest","stumbleupon","whatsapp"]});$("#profileImage").click(function(e){$("#profileUpload").click()});$("#profileUpload").change(function(){fasterPreview(this)});$("#featuredimage").change(function(){featuredPreview(this)});$("#featuredImage_edit").change(function(){featuredPreview_edit(this)})});function fasterPreview(uploader){if(uploader.files&&uploader.files[0]){$('#profileImage').attr('src',window.URL.createObjectURL(uploader.files[0]))}}
function featuredPreview(uploader){if(uploader.files&&uploader.files[0]){$('#featuredimage_preview').attr('src',window.URL.createObjectURL(uploader.files[0]))}}
function featuredPreview_edit(uploader){if(uploader.files&&uploader.files[0]){$('#featuredimage_preview_edit').attr('src',window.URL.createObjectURL(uploader.files[0]))}}
function $id(id){return document.getElementById(id)}
function Output(msg){var m=$id("messages");m.innerHTML=msg+m.innerHTML}
function FileDragHover(e){e.stopPropagation();e.preventDefault();e.target.className=(e.type=="dragover"?"hover":"")}
function FileSelectHandler(e){FileDragHover(e);var files=e.target.files||e.dataTransfer.files;for(var i=0,f;f=files[i];i++){var reader=new FileReader();reader.onload=function(e){$('<img />').attr('src',e.target.result).appendTo(images_holder)}
reader.readAsDataURL(files[i])}}
function ParseFile(file){Output("<p>File information: <strong>"+file.name+"</strong> type: <strong>"+file.type+"</strong> size: <strong>"+file.size+"</strong> bytes</p>")}
function Init(){var fileselect=$id("fileselect");fileselect.addEventListener("change",FileSelectHandler,!1);var xhr=new XMLHttpRequest()}
if(window.File&&window.FileList&&window.FileReader){Init()}})();var timer;function searchItem(query,region,action){clearTimeout(timer);timer=setTimeout(function validate(){$.ajax({url:webRootJs+'amazon/index.php',type:'get',data:{"q":query,"lang":region},success:function(response){$(".search_results."+action).html("");var el=$('<div></div>');el.html(response);var items=$('item',el);$.each(items,function(key,value){var list=$('<li></li>');var mediumimage=$('mediumimage',value);var attributes=$('itemattributes',value);var img=$('<img>');var src=$('url',mediumimage).html();img.attr('src',src);var title=$('title',attributes).html();if(title.length>48){title=title.substring(0,48)+'..'}
var url=$('detailpageurl',value).html();var encodedUrl=encodeURIComponent(url);var encodedTitle=encodeURIComponent(title);var encodedSrc=encodeURIComponent(src);list.html('<p>'+title+'</p><a onclick="addToBasket(\''+encodedTitle+'\', \''+encodedUrl+'\', \''+encodedSrc+'\', \''+action+'\')"><i class="fa fa-square-o" aria-hidden="true"></i></a>');list.prepend(img);$(".search_results."+action).append(list)});var image=$('mediumimage')}})},500)};function addToBasket(title,url,src,action){$('.hiddenInput.'+action).val($('.hiddenInput.'+action).val()+title+';'+url+';'+src+',');$(".search_results."+action).html("");$(".liveInput."+action).val("");decodedTitle=decodeURIComponent(title);decodedSrc=decodeURIComponent(src);var list=$('<li></li>');var img=$('<img>');img.attr('src',decodedSrc);list.html('<p>'+decodedTitle+'</p><a onclick="deleteFromBasket(\''+title+'\',this,\''+action+'\')"><i class="fa fa-check-square-o" aria-hidden="true"></i></a>');list.prepend(img);0
$(".basket_items."+action).append(list)}
function deleteFromBasket(title,parent,action){var ResearchArea=$('.hiddenInput.'+action).val();var splitTextInput=ResearchArea.split(",");new_arr=$.grep(splitTextInput,function(n,i){return n.split(";")[0]!=title});$('.hiddenInput.'+action).val(new_arr);parent.closest('li').remove()}
function likeSetup(id){if($(".red_button").hasClass("active")){$.ajax({url:webRootJs+'app/dislike',type:'get',data:{"setup_id":id},success:answer_dislike,error:answer_error})}
else{$.ajax({url:webRootJs+'app/like',type:'get',data:{"setup_id":id},success:answer_like,error:answer_error})}
function answer_like(response){$(".red_button").addClass("active");printLikes(id)}
function answer_dislike(response){$(".red_button").removeClass("active");printLikes(id)}
function answer_error(response){console.log(response)}}
function printLikes(id){$.ajax({url:webRootJs+"app/getlikes",data:{setup_id:id},dataType:'html',type:'get',success:function(json){$(".pointing_label").html(json)}})}
function doesLike(setup){$.ajax({url:webRootJs+"app/doesLike",data:{setup_id:setup},dataType:'html',type:'get',success:function(json){if(json=="1")
$(".red_button").addClass("active")}})}
class siiimpleToast{constructor(settings){if(!settings){settings={vertical:'bottom',horizontal:'right'}}
if(!settings.vertical)throw new Error('Please set parameter "vertical" ex) bottom, top ');if(!settings.horizontal)throw new Error('Please set parameter "horizontal" ex) left, center, right ');this._settings=settings;this.defaultClass='siiimpleToast';this.defaultStyle={position:'fixed',padding:'1rem 1.2rem',minWidth:'17rem',zIndex:'30',borderRadius:'2px',color:'white',fontWeight:300,whiteSpace:'nowrap',pointerEvents:'none',opacity:0,boxShadow:'0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)',transform:'scale(0.5)',transition:'all 0.4s ease-out'}
this.verticalStyle=this.setVerticalStyle()[this._settings.vertical];this.horizontalStyle=this.setHorizontalStyle()[this._settings.horizontal]}
setVerticalStyle(){return{top:{top:'-100px'},bottom:{bottom:'-100px'}}}
setHorizontalStyle(){return{left:{left:'1rem'},center:{left:'50%',transform:'translateX(-50%) scale(0.5)'},right:{right:'1rem'}}}
setMessageStyle(){return{default:'#323232',success:'#005f84',alert:'#db2828',}}
init(state,message){const root=document.querySelector('body');const newToast=document.createElement('div');newToast.className=this.defaultClass;newToast.innerHTML=message;Object.assign(newToast.style,this.defaultStyle,this.verticalStyle,this.horizontalStyle);newToast.style.backgroundColor=this.setMessageStyle()[state];root.insertBefore(newToast,root.firstChild);let time=0;setTimeout(()=>{this.addAction(newToast)},time+=100);setTimeout(()=>{this.removeAction(newToast)},time+=5000);setTimeout(()=>{this.removeDOM(newToast)},time+=500)}
addAction(obj){const toast=document.getElementsByClassName(this.defaultClass);let pushStack=15;if(this._settings.horizontal=='center'){obj.style.transform='translateX(-50%) scale(1)'}else{obj.style.transform='scale(1)'}
obj.style.opacity=1;for(let i=0;i<toast.length;i+=1){const height=toast[i].offsetHeight;const objMargin=15;if(this._settings.vertical=='bottom'){toast[i].style.bottom=`${pushStack}px`}else{toast[i].style.top=`${pushStack}px`}
pushStack+=height+objMargin}}
removeAction(obj){const width=obj.offsetWidth;const objCoordinate=obj.getBoundingClientRect();if(this._settings.horizontal=='right'){obj.style.right=`-${width}px`}else{obj.style.left=`${objCoordinate.left + width}px`}
obj.style.opacity=0}
removeDOM(obj){const parent=obj.parentNode;parent.removeChild(obj)}
message(message){this.init('default',message)}
success(message){this.init('success',message)}
alert(message){this.init('alert',message)}}
function convertToSlug(str)
{var rExps=[{re:/[\xC0-\xC6]/g,ch:'A'},{re:/[\xE0-\xE6]/g,ch:'a'},{re:/[\xC8-\xCB]/g,ch:'E'},{re:/[\xE8-\xEB]/g,ch:'e'},{re:/[\xCC-\xCF]/g,ch:'I'},{re:/[\xEC-\xEF]/g,ch:'i'},{re:/[\xD2-\xD6]/g,ch:'O'},{re:/[\xF2-\xF6]/g,ch:'o'},{re:/[\xD9-\xDC]/g,ch:'U'},{re:/[\xF9-\xFC]/g,ch:'u'},{re:/[\xC7-\xE7]/g,ch:'c'},{re:/[\xD1]/g,ch:'N'},{re:/[\xF1]/g,ch:'n'}];var $slug='';var trimmed=$.trim(str);for(var i=0,len=rExps.length;i<len;i++)
trimmed=trimmed.replace(rExps[i].re,rExps[i].ch);$slug=trimmed.replace(/[^a-z0-9-]/gi,'-').replace(/-+/g,'-').replace(/^-|-$/g,'');return $slug}
function infiniteScroll(nbtodisplay){var offset=nbtodisplay;$(window).data('ajaxready',!0);$(window).scroll(function(){if($(window).data('ajaxready')==!1)return;if(($(window).scrollTop()+$(window).height())+250>$(document).height()){$(window).data('ajaxready',!1);$.ajax({url:webRootJs+"app/getSetups",data:{p:offset,n:nbtodisplay},dataType:'html',type:'get',success:function(json){setups=$.parseJSON(json);if(setups[0]){$.each(setups,function(key,value){console.log(value.likes);var nblikes;if(value.likes[0]){nblikes=value.likes[0].total}
else{nblikes=0}
$('.fullitem_holder').append('<div class="fullitem"><a href="'+webRootJs+'setups/'+value.id+'-'+convertToSlug(value.title)+'"><img src="'+webRootJs+value.resources[0].src+'"><\/a><div class="red_like"><i class="fa fa-heart"><\/i> '+nblikes+'<\/div><div class="fullitem-inner"><div class="row"><div class="column column-75"><a class="featured-user" href="'+webRootJs+'users/'+value.user_id+'"><img src="'+webRootJs+'uploads/files/pics/profile_picture_'+value.user_id+'.png"><\/a><a href="'+webRootJs+'setups/'+value.id+'-'+convertToSlug(value.title)+'"><h3>'+value.title+'<\/h3><\/a><\/div><\/div><\/div><\/div>')});$(window).data('ajaxready',!0)}
else{$('.no_more_setups').html("No more setups to display...")}}});offset+=nbtodisplay}})}